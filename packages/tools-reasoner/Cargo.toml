[package]
name = "kodegen_tools_reasoner"
version.workspace = true
edition = "2024"
description = "Advanced reasoning tool with Beam Search and MCTS strategies"
authors = ["KODEGEN.ᴀɪ"]
homepage = "https://kodegen.ai"
repository = "https://github.com/cyrup-ai/kodegen"
readme = "../../README.md"
categories = ["development-tools", "command-line-utilities", "api-bindings"]
keywords = ["mcp", "reasoning", "agent", "mcts", "beam-search"]
license = "Apache-2.0 OR MIT"

[lib]
name = "kodegen_tools_reasoner"
crate-type = ["lib"]  # Native library, not WASM

[dependencies]
# Core MCP tool infrastructure
kodegen_mcp_tool = { path = "../mcp-tool", version = "0.0.1" }
kodegen_mcp_schema = { path = "../mcp-schema", version = "0.0.1" }
kodegen_mcp_server_core = { path = "../mcp-server-sse" }
rmcp = { git = "https://github.com/modelcontextprotocol/rust-sdk.git", branch = "main", features = [
    "client", "schemars", "server",
    "transport-child-process", "transport-io", "transport-sse-client",
    "transport-sse-client-reqwest", "transport-streamable-http-client",
    "transport-streamable-http-client-reqwest"
], version = "0.8.1" }

# Async runtime
tokio = { version = "1.48", features = ["full"] }

# Serialization
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# Schema generation for MCP
schemars = "1.0"

# Error handling
anyhow = "1.0"

# UUID generation for node IDs
uuid = { version = "1.18", features = ["serde", "v4"] }

# LRU cache for state management
lru = "0.16"

# Local Stella embeddings via Candle (replaces VoyageAI)
kodegen_candle_agent = { path = "../tools-candle-agent", version = "0.1.0" }

# Regex for logical scoring (strategies/base.rs)
regex = "1.12"
lazy_static = "1.5.0"

# Async stream utilities
tokio-stream = "0.1"
futures = "0.3"

# Logging
log = "0.4"
tracing = "0.1"

# Workspace hack for dependency deduplication
workspace-hack = { version = "0.0.1", path = "../../workspace-hack" }

[[bin]]
name = "kodegen-reasoner"
path = "src/main.rs"
